<project name="build-test" basedir="." default="tests1">
	<path id="restletjs-path">
		<fileset dir="${basedir}/../target/lib" includes="**/*.jar" />
	</path>
	
	<taskdef name="replaceInclude"
	        classname="org.restlet.build.js.ReplaceIncludeTask"
			classpathref="restletjs-path"/>

	<taskdef name="classContextualize"
	        classname="org.restlet.build.js.ClassContextualizeReplaceTask"
			classpathref="restletjs-path"/>

	<target name="tests1">
		<replaceInclude srcFile="${basedir}/test.js"
				destFile="${basedir}/target-test.js"
				baseDir="${basedir}"/>
	</target>
	
	<target name="tests2">
		<replaceInclude srcFile="${basedir}/testmulti.js"
				destFile="${basedir}/target-testmulti.js">
			<fileset dir="${basedir}/dir1"/>
			<fileset dir="${basedir}/dir2"/>
			<fileset dir="${basedir}/dir3"/>
		</replaceInclude>
	</target>
	
	<target name="tests3">
		<classContextualize srcFile="${basedir}/testcontext.js"
				destFile="${basedir}/target-testcontext.js" restletSrcPath="${basedir}/../../modules/org.restlet.js/src/js"/>
	</target>
	
</project>